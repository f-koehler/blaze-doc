<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Custom Data Types</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../Blaze.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../blaze.jpg"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Custom Data Types </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <b>Blaze</b> library tries hard to make the use of custom data types as convenient, easy and intuitive as possible. However, unfortunately it is not possible to meet the requirements of all possible data types. Thus it might be necessary to provide <b>Blaze</b> with some additional information about the data type. The following sections give an overview of the necessary steps to enable the use of the hypothetical custom data type <code>custom::double_t</code> for vector and matrix operations. For example:</p>
<div class="fragment"><div class="line"><a class="code" href="../../da/d9e/classblaze_1_1DynamicVector.html">blaze::DynamicVector&lt;custom::double_t&gt;</a> a, b, c;</div><div class="line"><span class="comment">// ... Resizing and initialization</span></div><div class="line">c = a + b;</div></div><!-- fragment --><p>The <b>Blaze</b> library assumes that the <code>custom::double_t</code> data type provides <code><a class="el" href="../../d2/de9/namespaceblaze.html#acc4bc8412b1132b17be23b06833cadc2" title="Addition between a DenseIterator and an integral value. ">operator+()</a></code> for additions, <code><a class="el" href="../../d2/de9/namespaceblaze.html#ad8032b6bc6514096c8edb2f3a731cea0" title="Subtraction between a DenseIterator and an integral value. ">operator-()</a></code> for subtractions, <code><a class="el" href="../../db/df0/group__dense__matrix.html#ga8c854306cabe36178ef984abdfc835f5" title="Multiplication operator for the multiplication of two row-major dense matrices ( ). ">operator*()</a></code> for multiplications and <code><a class="el" href="../../db/df0/group__dense__matrix.html#gaf3cd8bdcaaf316731c036deba11f2caa" title="Division operator for the division of a dense matrix by a scalar value ( ). ">operator/()</a></code> for divisions. If any of these functions is missing it is necessary to implement the operator to perform the according operation. For this example we assume that the custom data type provides the four following functions instead of operators:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span>custom {</div><div class="line"></div><div class="line">double_t add ( <span class="keyword">const</span> double_t&amp; a, <span class="keyword">const</span> double_t b );</div><div class="line">double_t sub ( <span class="keyword">const</span> double_t&amp; a, <span class="keyword">const</span> double_t b );</div><div class="line">double_t mult( <span class="keyword">const</span> double_t&amp; a, <span class="keyword">const</span> double_t b );</div><div class="line">double_t div ( <span class="keyword">const</span> double_t&amp; a, <span class="keyword">const</span> double_t b );</div><div class="line"></div><div class="line">} <span class="comment">// namespace custom</span></div></div><!-- fragment --><p>The following implementations will satisfy the requirements of the <b>Blaze</b> library:</p>
<div class="fragment"><div class="line"><span class="keyword">inline</span> custom::double_t <a class="code" href="../../d2/de9/namespaceblaze.html#acc4bc8412b1132b17be23b06833cadc2">operator+</a>( <span class="keyword">const</span> custom::double_t&amp; a, <span class="keyword">const</span> custom::double_t&amp; b )</div><div class="line">{</div><div class="line">   <span class="keywordflow">return</span> add( a, b );</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">inline</span> custom::double_t <a class="code" href="../../d2/de9/namespaceblaze.html#ad8032b6bc6514096c8edb2f3a731cea0">operator-</a>( <span class="keyword">const</span> custom::double_t&amp; a, <span class="keyword">const</span> custom::double_t&amp; b )</div><div class="line">{</div><div class="line">   <span class="keywordflow">return</span> sub( a, b );</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">inline</span> custom::double_t <a class="code" href="../../db/df0/group__dense__matrix.html#ga8c854306cabe36178ef984abdfc835f5">operator*</a>( <span class="keyword">const</span> custom::double_t&amp; a, <span class="keyword">const</span> custom::double_t&amp; b )</div><div class="line">{</div><div class="line">   <span class="keywordflow">return</span> mult( a, b );</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keyword">inline</span> custom::double_t <a class="code" href="../../db/df0/group__dense__matrix.html#gaf3cd8bdcaaf316731c036deba11f2caa">operator/</a>( <span class="keyword">const</span> custom::double_t&amp; a, <span class="keyword">const</span> custom::double_t&amp; b )</div><div class="line">{</div><div class="line">   <span class="keywordflow">return</span> div( a, b );</div><div class="line">}</div></div><!-- fragment --><p><b>Blaze</b> will use all the information provided with these functions (for instance the return type) to properly handle the operations. In the rare case that the return type cannot be automatically determined from the operator it might be additionally necessary to provide a specialization of the following four <b>Blaze</b> class templates:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="../../d2/de9/namespaceblaze.html">blaze</a> {</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;&gt;</div><div class="line"><span class="keyword">struct </span>AddTrait&lt;custom::double_t,custom::double_t&gt; {</div><div class="line">   <span class="keyword">typedef</span> custom::double_t  Type;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;&gt;</div><div class="line"><span class="keyword">struct </span>SubTrait&lt;custom::double_t,custom::double_t&gt; {</div><div class="line">   <span class="keyword">typedef</span> custom::double_t  Type;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;&gt;</div><div class="line"><span class="keyword">struct </span>MultTrait&lt;custom::double_t,custom::double_t&gt; {</div><div class="line">   <span class="keyword">typedef</span> custom::double_t  Type;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">template</span>&lt;&gt;</div><div class="line"><span class="keyword">struct </span>DivTrait&lt;custom::double_t,custom::double_t&gt; {</div><div class="line">   <span class="keyword">typedef</span> custom::double_t  Type;</div><div class="line">};</div><div class="line"></div><div class="line">} <span class="comment">// namespace blaze</span></div></div><!-- fragment --><p>The same steps are necessary if several custom data types need to be combined (as for instance <code>custom::double_t</code> and <code>custom::float_t</code>). Note that in this case both permutations need to be taken into account:</p>
<div class="fragment"><div class="line">custom::double_t <a class="code" href="../../d2/de9/namespaceblaze.html#acc4bc8412b1132b17be23b06833cadc2">operator+</a>( <span class="keyword">const</span> custom::double_t&amp; a, <span class="keyword">const</span> custom::float_t&amp; b );</div><div class="line">custom::double_t <a class="code" href="../../d2/de9/namespaceblaze.html#acc4bc8412b1132b17be23b06833cadc2">operator+</a>( <span class="keyword">const</span> custom::float_t&amp; a, <span class="keyword">const</span> custom::double_t&amp; b );</div><div class="line"><span class="comment">// ...</span></div></div><!-- fragment --><p>Please note that only built-in data types apply for vectorization and thus custom data types cannot achieve maximum performance!</p>
<p><br />
 Previous: <a class="el" href="../../de/d51/block_vectors_and_matrices.html">Block Vectors and Matrices</a> &#160; &#160; Next: <a class="el" href="../../d4/d04/error_reporting_customization.html">Customization of the Error Reporting Mechanism</a> <br />
</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 8 2016 01:03:46 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
